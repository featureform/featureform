"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6350],{34668:function(a,b,c){c.r(b),c.d(b,{AElement:function(){return aL},AnimateColorElement:function(){return aF},AnimateElement:function(){return aE},AnimateTransformElement:function(){return aG},BoundingBox:function(){return ah},CB1:function(){return G},CB2:function(){return H},CB3:function(){return I},CB4:function(){return J},Canvg:function(){return bd},CircleElement:function(){return ar},ClipPathElement:function(){return a0},DefsElement:function(){return ay},DescElement:function(){return a7},Document:function(){return ba},Element:function(){return ad},EllipseElement:function(){return as},FeColorMatrixElement:function(){return aZ},FeCompositeElement:function(){return a4},FeDropShadowElement:function(){return a2},FeGaussianBlurElement:function(){return a5},FeMorphologyElement:function(){return a3},FilterElement:function(){return a1},Font:function(){return ag},FontElement:function(){return aH},FontFaceElement:function(){return aI},GElement:function(){return az},GlyphElement:function(){return al},GradientElement:function(){return aA},ImageElement:function(){return aQ},LineElement:function(){return at},LinearGradientElement:function(){return aB},MarkerElement:function(){return ax},MaskElement:function(){return a$},Matrix:function(){return $},MissingGlyphElement:function(){return aJ},Mouse:function(){return Q},PSEUDO_ZERO:function(){return C},Parser:function(){return W},PathElement:function(){return ak},PathParser:function(){return ai},PatternElement:function(){return aw},Point:function(){return P},PolygonElement:function(){return av},PolylineElement:function(){return au},Property:function(){return N},QB1:function(){return K},QB2:function(){return L},QB3:function(){return M},RadialGradientElement:function(){return aC},RectElement:function(){return aq},RenderedElement:function(){return aj},Rotate:function(){return Y},SVGElement:function(){return ap},SVGFontLoader:function(){return aS},Scale:function(){return Z},Screen:function(){return T},Skew:function(){return _},SkewX:function(){return aa},SkewY:function(){return ab},StopElement:function(){return aD},StyleElement:function(){return aT},SymbolElement:function(){return aR},TRefElement:function(){return aK},TSpanElement:function(){return an},TextElement:function(){return am},TextPathElement:function(){return aO},TitleElement:function(){return a6},Transform:function(){return ac},Translate:function(){return X},UnknownElement:function(){return ae},UseElement:function(){return aU},ViewPort:function(){return O},compressSpaces:function(){return l},default:function(){return bd},getSelectorSpecificity:function(){return B},normalizeAttributeName:function(){return q},normalizeColor:function(){return s},parseExternalUrl:function(){return r},presets:function(){return k},toNumbers:function(){return o},trimLeft:function(){return m},trimRight:function(){return n},vectorMagnitude:function(){return D},vectorsAngle:function(){return F},vectorsRatio:function(){return E}}),c(88674);var d=c(15861);c(4723),c(15306),c(23157),c(66992),c(33948);var e=c(4942);c(85827),c(27852),c(23123);var f=c(54087);c(73210);var g=c(26131);c(82772),c(32023),c(65069);var h=c(34933);c(39714);var i=c(62449),j=c(83454),k=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:a}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:a,createCanvas(a,b){return new OffscreenCanvas(a,b)},createImage(a){return(0,d.Z)(function*(){return yield createImageBitmap((yield(yield fetch(a)).blob()))})()}};return("undefined"!=typeof DOMParser|| void 0===a)&&Reflect.deleteProperty(b,"DOMParser"),b},node:function(a){var{DOMParser:b,canvas:c,fetch:d}=a;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:b,fetch:d,createCanvas:c.createCanvas,createImage:c.loadImage}}});function l(a){return a.replace(/(?!\u3000)\s+/gm," ")}function m(a){return a.replace(/^[\n \t]+/,"")}function n(a){return a.replace(/[\n \t]+$/,"")}function o(a){return((a||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var p=/^[A-Z-]+$/;function q(a){return p.test(a)?a.toLowerCase():a}function r(a){var b=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(a)||[];return b[2]||b[3]||b[4]}function s(a){if(!a.startsWith("rgb"))return a;var b=3;return a.replace(/\d+(\.\d+)?/g,(a,c)=>(b--)&&c?String(Math.round(parseFloat(a))):a)}var t=/(\[[^\]]+\])/g,u=/(#[^\s+>~.[:]+)/g,v=/(\.[^\s+>~.[:]+)/g,w=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,x=/(:[\w-]+\([^)]*\))/gi,y=/(:[^\s+>~.[:]+)/g,z=/([^\s+>~.[:]+)/g;function A(a,b){var c=b.exec(a);return c?[a.replace(b," "),c.length]:[a,0]}function B(a){var b=[0,0,0],c=a.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),d=0;return[c,d]=A(c,t),b[1]+=d,[c,d]=A(c,u),b[0]+=d,[c,d]=A(c,v),b[1]+=d,[c,d]=A(c,w),b[2]+=d,[c,d]=A(c,x),b[1]+=d,[c,d]=A(c,y),b[1]+=d,c=c.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[c,d]=A(c,z),b[2]+=d,b.join("")}var C=1e-8;function D(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))}function E(a,b){return(a[0]*b[0]+a[1]*b[1])/(D(a)*D(b))}function F(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(E(a,b))}function G(a){return a*a*a}function H(a){return 3*a*a*(1-a)}function I(a){return 3*a*(1-a)*(1-a)}function J(a){return(1-a)*(1-a)*(1-a)}function K(a){return a*a}function L(a){return 2*a*(1-a)}function M(a){return(1-a)*(1-a)}class N{constructor(a,b,c){this.document=a,this.name=b,this.value=c,this.isNormalizedColor=!1}static empty(a){return new N(a,"EMPTY","")}split(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:" ",{document:b,name:c}=this;return l(this.getString()).trim().split(a).map(a=>new N(b,c,a))}hasValue(a){var{value:b}=this;return null!==b&&""!==b&&(a||0!==b)&& void 0!==b}isString(a){var{value:b}=this,c="string"==typeof b;return c&&a?a.test(b):c}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var a=this.getString();switch(!0){case a.endsWith("px"):case/^[0-9]+$/.test(a):return!0;default:return!1}}setValue(a){return this.value=a,this}getValue(a){return void 0===a||this.hasValue()?this.value:a}getNumber(a){if(!this.hasValue())return void 0===a?0:parseFloat(a);var{value:b}=this,c=parseFloat(b);return this.isString(/%$/)&&(c/=100),c}getString(a){return void 0===a||this.hasValue()?void 0===this.value?"":String(this.value):String(a)}getColor(a){var b=this.getString(a);return this.isNormalizedColor||(this.isNormalizedColor=!0,b=s(b),this.value=b),b}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[c,d]="boolean"==typeof a?[void 0,a]:[a],{viewPort:e}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(e.computeSize("x"),e.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(e.computeSize("x"),e.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*e.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*e.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&d:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*e.computeSize(c);default:var f=this.getNumber();if(b&&f<1)return f*e.computeSize(c);return f}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var a=this.getString(),b=/#([^)'"]+)/.exec(a);return b&&(b=b[1]),b||(b=a),this.document.definitions[b]}getFillStyleDefinition(a,b){var c=this.getDefinition();if(!c)return null;if("function"==typeof c.createGradient)return c.createGradient(this.document.ctx,a,b);if("function"==typeof c.createPattern){if(c.getHrefAttribute().hasValue()){var d=c.getAttribute("patternTransform");c=c.getHrefAttribute().getDefinition(),d.hasValue()&&c.getAttribute("patternTransform",!0).setValue(d.value)}return c.createPattern(this.document.ctx,a,b)}return null}getTextBaseline(){return this.hasValue()?N.textBaselineMapping[this.getString()]:null}addOpacity(a){for(var b=this.getColor(),c=b.length,d=0,e=0;e<c&&(","===b[e]&&d++,3!==d);e++);if(a.hasValue()&&this.isString()&&3!==d){var f=new g(b);f.ok&&(f.alpha=a.getNumber(),b=f.toRGBA())}return new N(this.document,this.name,b)}}N.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class O{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(a,b){this.viewPorts.push({width:a,height:b})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:a}=this;return a[a.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(a){return"number"==typeof a?a:"x"===a?this.width:"y"===a?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class P{constructor(a,b){this.x=a,this.y=b}static parse(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:0,[c=b,d=b]=o(a);return new P(c,d)}static parseScale(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1,[c=b,d=c]=o(a);return new P(c,d)}static parsePath(a){for(var b=o(a),c=b.length,d=[],e=0;e<c;e+=2)d.push(new P(b[e],b[e+1]));return d}angleTo(a){return Math.atan2(a.y-this.y,a.x-this.x)}applyTransform(a){var{x:b,y:c}=this,d=b*a[0]+c*a[2]+a[4],e=b*a[1]+c*a[3]+a[5];this.x=d,this.y=e}}class Q{constructor(a){this.screen=a,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:a,onClick:b,onMouseMove:c}=this,d=a.ctx.canvas;d.onclick=b,d.onmousemove=c,this.working=!0}}stop(){if(this.working){var a=this.screen.ctx.canvas;this.working=!1,a.onclick=null,a.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:a,events:b,eventElements:c}=this,{style:d}=a.ctx.canvas;d&&(d.cursor=""),b.forEach((a,b)=>{for(var{run:d}=a,e=c[b];e;)d(e),e=e.parent}),this.events=[],this.eventElements=[]}}checkPath(a,b){if(this.working&&b){var{events:c,eventElements:d}=this;c.forEach((c,e)=>{var{x:f,y:g}=c;!d[e]&&b.isPointInPath&&b.isPointInPath(f,g)&&(d[e]=a)})}}checkBoundingBox(a,b){if(this.working&&b){var{events:c,eventElements:d}=this;c.forEach((c,e)=>{var{x:f,y:g}=c;!d[e]&&b.isPointInBox(f,g)&&(d[e]=a)})}}mapXY(a,b){for(var{window:c,ctx:d}=this.screen,e=new P(a,b),f=d.canvas;f;)e.x-=f.offsetLeft,e.y-=f.offsetTop,f=f.offsetParent;return c.scrollX&&(e.x+=c.scrollX),c.scrollY&&(e.y+=c.scrollY),e}onClick(a){var{x:b,y:c}=this.mapXY(a.clientX,a.clientY);this.events.push({type:"onclick",x:b,y:c,run(a){a.onClick&&a.onClick()}})}onMouseMove(a){var{x:b,y:c}=this.mapXY(a.clientX,a.clientY);this.events.push({type:"onmousemove",x:b,y:c,run(a){a.onMouseMove&&a.onMouseMove()}})}}var R="undefined"!=typeof window?window:null,S="undefined"!=typeof fetch?fetch.bind(void 0):null;class T{constructor(a){var{fetch:b=S,window:c=R}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};this.ctx=a,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new O,this.mouse=new Q(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=c,this.fetch=b}wait(a){this.waits.push(a)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var a=this.waits.every(a=>a());return a&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=a,a}setDefaults(a){a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4}setViewBox(a){var{document:b,ctx:c,aspectRatio:d,width:e,desiredWidth:f,height:g,desiredHeight:h,minX:i=0,minY:j=0,refX:k,refY:m,clip:n=!1,clipX:o=0,clipY:p=0}=a,[q,r]=l(d).replace(/^defer\s/,"").split(" "),s=q||"xMidYMid",t=r||"meet",u=e/f,v=g/h,w=Math.min(u,v),x=Math.max(u,v),y=f,z=h;"meet"===t&&(y*=w,z*=w),"slice"===t&&(y*=x,z*=x);var A=new N(b,"refX",k),B=new N(b,"refY",m),C=A.hasValue()&&B.hasValue();if(C&&c.translate(-w*A.getPixels("x"),-w*B.getPixels("y")),n){var D=w*o,E=w*p;c.beginPath(),c.moveTo(D,E),c.lineTo(e,E),c.lineTo(e,g),c.lineTo(D,g),c.closePath(),c.clip()}if(!C){var F="meet"===t&&w===v,G="slice"===t&&x===v,H="meet"===t&&w===u,I="slice"===t&&x===u;s.startsWith("xMid")&&(F||G)&&c.translate(e/2-y/2,0),s.endsWith("YMid")&&(H||I)&&c.translate(0,g/2-z/2),s.startsWith("xMax")&&(F||G)&&c.translate(e-y,0),s.endsWith("YMax")&&(H||I)&&c.translate(0,g-z)}switch(!0){case"none"===s:c.scale(u,v);break;case"meet"===t:c.scale(w,w);break;case"slice"===t:c.scale(x,x)}c.translate(-i,-j)}start(a){var{enableRedraw:b=!1,ignoreMouse:c=!1,ignoreAnimation:d=!1,ignoreDimensions:e=!1,ignoreClear:g=!1,forceRedraw:h,scaleWidth:i,scaleHeight:j,offsetX:k,offsetY:l}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:m,mouse:n}=this,o=1e3/m;if(this.frameDuration=o,this.readyPromise=new Promise(a=>{this.resolveReady=a}),this.isReady()&&this.render(a,e,g,i,j,k,l),b){var p=Date.now(),q=p,r=0,s=()=>{(r=(p=Date.now())-q)>=o&&(q=p-r%o,this.shouldUpdate(d,h)&&(this.render(a,e,g,i,j,k,l),n.runEvents())),this.intervalId=f(s)};c||n.start(),this.intervalId=f(s)}}stop(){this.intervalId&&(f.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(a,b){if(!a){var{frameDuration:c}=this;if(this.animations.reduce((a,b)=>b.update(c)||a,!1))return!0}return!!("function"==typeof b&&b()|| !this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(a,b,c,d,e,f,g){var{CLIENT_WIDTH:h,CLIENT_HEIGHT:i,viewPort:j,ctx:k,isFirstRender:l}=this,m=k.canvas;j.clear(),m.width&&m.height?j.setCurrent(m.width,m.height):j.setCurrent(h,i);var n=a.getStyle("width"),p=a.getStyle("height");!b&&(l||"number"!=typeof d&&"number"!=typeof e)&&(n.hasValue()&&(m.width=n.getPixels("x"),m.style&&(m.style.width="".concat(m.width,"px"))),p.hasValue()&&(m.height=p.getPixels("y"),m.style&&(m.style.height="".concat(m.height,"px"))));var q=m.clientWidth||m.width,r=m.clientHeight||m.height;if(b&&n.hasValue()&&p.hasValue()&&(q=n.getPixels("x"),r=p.getPixels("y")),j.setCurrent(q,r),"number"==typeof f&&a.getAttribute("x",!0).setValue(f),"number"==typeof g&&a.getAttribute("y",!0).setValue(g),"number"==typeof d||"number"==typeof e){var s=o(a.getAttribute("viewBox").getString()),t=0,u=0;if("number"==typeof d){var v=a.getStyle("width");v.hasValue()?t=v.getPixels("x")/d:isNaN(s[2])||(t=s[2]/d)}if("number"==typeof e){var w=a.getStyle("height");w.hasValue()?u=w.getPixels("y")/e:isNaN(s[3])||(u=s[3]/e)}t||(t=u),u||(u=t),a.getAttribute("width",!0).setValue(d),a.getAttribute("height",!0).setValue(e);var x=a.getStyle("transform",!0,!0);x.setValue("".concat(x.getString()," scale(").concat(1/t,", ").concat(1/u,")"))}c||k.clearRect(0,0,q,r),a.render(k),l&&(this.isFirstRender=!1)}}T.defaultWindow=R,T.defaultFetch=S;var{defaultFetch:U}=T,V="undefined"!=typeof DOMParser?DOMParser:null;class W{constructor(){var{fetch:a=U,DOMParser:b=V}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};this.fetch=a,this.DOMParser=b}parse(a){var b=this;return(0,d.Z)(function*(){return a.startsWith("<")?b.parseFromString(a):b.load(a)})()}parseFromString(a){var b=new this.DOMParser;try{return this.checkDocument(b.parseFromString(a,"image/svg+xml"))}catch(c){return this.checkDocument(b.parseFromString(a,"text/xml"))}}checkDocument(a){var b=a.getElementsByTagName("parsererror")[0];if(b)throw Error(b.textContent);return a}load(a){var b=this;return(0,d.Z)(function*(){var c=yield(yield b.fetch(a)).text();return b.parseFromString(c)})()}}class X{constructor(a,b){this.type="translate",this.point=null,this.point=P.parse(b)}apply(a){var{x:b,y:c}=this.point;a.translate(b||0,c||0)}unapply(a){var{x:b,y:c}=this.point;a.translate(-1*b||0,-1*c||0)}applyToPoint(a){var{x:b,y:c}=this.point;a.applyTransform([1,0,0,1,b||0,c||0])}}class Y{constructor(a,b,c){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var d=o(b);this.angle=new N(a,"angle",d[0]),this.originX=c[0],this.originY=c[1],this.cx=d[1]||0,this.cy=d[2]||0}apply(a){var{cx:b,cy:c,originX:d,originY:e,angle:f}=this,g=b+d.getPixels("x"),h=c+e.getPixels("y");a.translate(g,h),a.rotate(f.getRadians()),a.translate(-g,-h)}unapply(a){var{cx:b,cy:c,originX:d,originY:e,angle:f}=this,g=b+d.getPixels("x"),h=c+e.getPixels("y");a.translate(g,h),a.rotate(-1*f.getRadians()),a.translate(-g,-h)}applyToPoint(a){var{cx:b,cy:c,angle:d}=this,e=d.getRadians();a.applyTransform([1,0,0,1,b||0,c||0]),a.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),a.applyTransform([1,0,0,1,-b||0,-c||0])}}class Z{constructor(a,b,c){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var d=P.parseScale(b);(0===d.x||0===d.y)&&(d.x=C,d.y=C),this.scale=d,this.originX=c[0],this.originY=c[1]}apply(a){var{scale:{x:b,y:c},originX:d,originY:e}=this,f=d.getPixels("x"),g=e.getPixels("y");a.translate(f,g),a.scale(b,c||b),a.translate(-f,-g)}unapply(a){var{scale:{x:b,y:c},originX:d,originY:e}=this,f=d.getPixels("x"),g=e.getPixels("y");a.translate(f,g),a.scale(1/b,1/c||b),a.translate(-f,-g)}applyToPoint(a){var{x:b,y:c}=this.scale;a.applyTransform([b||0,0,0,c||0,0,0])}}class ${constructor(a,b,c){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=o(b),this.originX=c[0],this.originY=c[1]}apply(a){var{originX:b,originY:c,matrix:d}=this,e=b.getPixels("x"),f=c.getPixels("y");a.translate(e,f),a.transform(d[0],d[1],d[2],d[3],d[4],d[5]),a.translate(-e,-f)}unapply(a){var{originX:b,originY:c,matrix:d}=this,e=d[0],f=d[2],g=d[4],h=d[1],i=d[3],j=d[5],k=1/(e*(1*i-0*j)-f*(1*h-0*j)+g*(0*h-0*i)),l=b.getPixels("x"),m=c.getPixels("y");a.translate(l,m),a.transform(k*(1*i-0*j),k*(0*j-1*h),k*(0*g-1*f),k*(1*e-0*g),k*(f*j-g*i),k*(g*h-e*j)),a.translate(-l,-m)}applyToPoint(a){a.applyTransform(this.matrix)}}class _ extends ${constructor(a,b,c){super(a,b,c),this.type="skew",this.angle=null,this.angle=new N(a,"angle",b)}}class aa extends _{constructor(a,b,c){super(a,b,c),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class ab extends _{constructor(a,b,c){super(a,b,c),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class ac{constructor(a,b,c){var d;this.document=a,this.transforms=[],l(d=b).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/).forEach(a=>{if("none"!==a){var[b,d]=function(a){var[b,c]=a.split("(");return[b.trim(),c.trim().replace(")","")]}(a),e=ac.transformTypes[b];void 0!==e&&this.transforms.push(new e(this.document,d,c))}})}static fromElement(a,b){var c=b.getStyle("transform",!1,!0),[d,e=d]=b.getStyle("transform-origin",!1,!0).split();return c.hasValue()?new ac(a,c.getString(),[d,e]):null}apply(a){for(var{transforms:b}=this,c=b.length,d=0;d<c;d++)b[d].apply(a)}unapply(a){for(var{transforms:b}=this,c=b.length,d=c-1;d>=0;d--)b[d].unapply(a)}applyToPoint(a){for(var{transforms:b}=this,c=b.length,d=0;d<c;d++)b[d].applyToPoint(a)}}ac.transformTypes={translate:X,rotate:Y,scale:Z,matrix:$,skewX:aa,skewY:ab};class ad{constructor(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];if(this.document=a,this.node=b,this.captureTextNodes=c,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!b||1!==b.nodeType)return;Array.from(b.attributes).forEach(b=>{var c=q(b.nodeName);this.attributes[c]=new N(a,c,b.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(a=>a.trim()).forEach(b=>{if(b){var[c,d]=b.split(":").map(a=>a.trim());this.styles[c]=new N(a,c,d)}});var{definitions:d}=a,e=this.getAttribute("id");e.hasValue()&&!d[e.getString()]&&(d[e.getString()]=this),Array.from(b.childNodes).forEach(b=>{if(1===b.nodeType)this.addChild(b);else if(c&&(3===b.nodeType||4===b.nodeType)){var d=a.createTextNode(b);d.getText().length>0&&this.addChild(d)}})}getAttribute(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1],c=this.attributes[a];if(!c&&b){var d=new N(this.document,a,"");return this.attributes[a]=d,d}return c||N.empty(this.document)}getHrefAttribute(){for(var a in this.attributes)if("href"===a||a.endsWith(":href"))return this.attributes[a];return N.empty(this.document)}getStyle(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1],c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=this.styles[a];if(d)return d;var e=this.getAttribute(a);if(null!=e&&e.hasValue())return this.styles[a]=e,e;if(!c){var{parent:f}=this;if(f){var g=f.getStyle(a);if(null!=g&&g.hasValue())return g}}if(b){var h=new N(this.document,a,"");return this.styles[a]=h,h}return d||N.empty(this.document)}render(a){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(a.save(),this.getStyle("mask").hasValue()){var b=this.getStyle("mask").getDefinition();b&&(this.applyEffects(a),b.apply(a,this))}else if("none"!==this.getStyle("filter").getValue("none")){var c=this.getStyle("filter").getDefinition();c&&(this.applyEffects(a),c.apply(a,this))}else this.setContext(a),this.renderChildren(a),this.clearContext(a);a.restore()}}setContext(a){}applyEffects(a){var b=ac.fromElement(this.document,this);b&&b.apply(a);var c=this.getStyle("clip-path",!1,!0);if(c.hasValue()){var d=c.getDefinition();d&&d.apply(a)}}clearContext(a){}renderChildren(a){this.children.forEach(b=>{b.render(a)})}addChild(a){var b=a instanceof ad?a:this.document.createElement(a);b.parent=this,ad.ignoreChildTypes.includes(b.type)||this.children.push(b)}matchesSelector(a){var b,{node:c}=this;if("function"==typeof c.matches)return c.matches(a);var d=null===(b=c.getAttribute)|| void 0===b?void 0:b.call(c,"class");return!!d&&""!==d&&d.split(" ").some(b=>".".concat(b)===a)}addStylesFromStyleDefinition(){var{styles:a,stylesSpecificity:b}=this.document;for(var c in a)if(!c.startsWith("@")&&this.matchesSelector(c)){var d=a[c],e=b[c];if(d)for(var f in d){var g=this.stylesSpecificity[f];void 0===g&&(g="000"),e>=g&&(this.styles[f]=d[f],this.stylesSpecificity[f]=e)}}}removeStyles(a,b){return b.reduce((b,c)=>{var d=a.getStyle(c);if(!d.hasValue())return b;var e=d.getString();return d.setValue(""),[...b,[c,e]]},[])}restoreStyles(a,b){b.forEach(b=>{var[c,d]=b;a.getStyle(c,!0).setValue(d)})}isFirstChild(){var a;return(null===(a=this.parent)|| void 0===a?void 0:a.children.indexOf(this))===0}}ad.ignoreChildTypes=["title"];class ae extends ad{constructor(a,b,c){super(a,b,c)}}function af(a){var b=a.trim();return/^('|")/.test(b)?b:'"'.concat(b,'"')}class ag{constructor(a,b,c,d,e,f){var g=f?"string"==typeof f?ag.parse(f):f:{};this.fontFamily=e||g.fontFamily,this.fontSize=d||g.fontSize,this.fontStyle=a||g.fontStyle,this.fontWeight=c||g.fontWeight,this.fontVariant=b||g.fontVariant}static parse(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1?arguments[1]:void 0,c="",d="",e="",f="",g="",h=l(a).trim().split(" "),i={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return h.forEach(a=>{switch(!0){case!i.fontStyle&&ag.styles.includes(a):"inherit"!==a&&(c=a),i.fontStyle=!0;break;case!i.fontVariant&&ag.variants.includes(a):"inherit"!==a&&(d=a),i.fontStyle=!0,i.fontVariant=!0;break;case!i.fontWeight&&ag.weights.includes(a):"inherit"!==a&&(e=a),i.fontStyle=!0,i.fontVariant=!0,i.fontWeight=!0;break;case!i.fontSize:"inherit"!==a&&([f]=a.split("/")),i.fontStyle=!0,i.fontVariant=!0,i.fontWeight=!0,i.fontSize=!0;break;default:"inherit"!==a&&(g+=a)}}),new ag(c,d,e,f,g,b)}toString(){var a;return[function(a){if(!a)return"";var b=a.trim().toLowerCase();switch(b){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return b;default:if(/^oblique\s+(-|)\d+deg$/.test(b))return b;return""}}(this.fontStyle),this.fontVariant,function(a){if(!a)return"";var b=a.trim().toLowerCase();switch(b){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return b;default:if(/^[\d.]+$/.test(b))return b;return""}}(this.fontWeight),this.fontSize,(a=this.fontFamily,void 0===j?a:a.trim().split(",").map(af).join(","))].join(" ").trim()}}ag.styles="normal|italic|oblique|inherit",ag.variants="normal|small-caps|inherit",ag.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class ah{constructor(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:Number.NaN,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:Number.NaN,c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:Number.NaN,d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=a,this.y1=b,this.x2=c,this.y2=d,this.addPoint(a,b),this.addPoint(c,d)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(a,b){void 0!==a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),void 0!==b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))}addX(a){this.addPoint(a,null)}addY(a){this.addPoint(null,a)}addBoundingBox(a){if(a){var{x1:b,y1:c,x2:d,y2:e}=a;this.addPoint(b,c),this.addPoint(d,e)}}sumCubic(a,b,c,d,e){return Math.pow(1-a,3)*b+3*Math.pow(1-a,2)*a*c+3*(1-a)*Math.pow(a,2)*d+Math.pow(a,3)*e}bezierCurveAdd(a,b,c,d,e){var f=6*b-12*c+6*d,g=-3*b+9*c-9*d+3*e,h=3*c-3*b;if(0===g){if(0===f)return;var i=-h/f;0<i&&i<1&&(a?this.addX(this.sumCubic(i,b,c,d,e)):this.addY(this.sumCubic(i,b,c,d,e)));return}var j=Math.pow(f,2)-4*h*g;if(!(j<0)){var k=(-f+Math.sqrt(j))/(2*g);0<k&&k<1&&(a?this.addX(this.sumCubic(k,b,c,d,e)):this.addY(this.sumCubic(k,b,c,d,e)));var l=(-f-Math.sqrt(j))/(2*g);0<l&&l<1&&(a?this.addX(this.sumCubic(l,b,c,d,e)):this.addY(this.sumCubic(l,b,c,d,e)))}}addBezierCurve(a,b,c,d,e,f,g,h){this.addPoint(a,b),this.addPoint(g,h),this.bezierCurveAdd(!0,a,c,e,g),this.bezierCurveAdd(!1,b,d,f,h)}addQuadraticCurve(a,b,c,d,e,f){var g=a+2/3*(c-a),h=b+2/3*(d-b);this.addBezierCurve(a,b,g,g+1/3*(e-a),h,h+1/3*(f-b),e,f)}isPointInBox(a,b){var{x1:c,y1:d,x2:e,y2:f}=this;return c<=a&&a<=e&&d<=b&&b<=f}}class ai extends h.OU{constructor(a){super(a.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new P(0,0),this.control=new P(0,0),this.current=new P(0,0),this.points=[],this.angles=[]}isEnd(){var{i:a,commands:b}=this;return a>=b.length-1}next(){var a=this.commands[++this.i];return this.previousCommand=this.command,this.command=a,a}getPoint(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"x",b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"y",c=new P(this.command[a],this.command[b]);return this.makeAbsolute(c)}getAsControlPoint(a,b){var c=this.getPoint(a,b);return this.control=c,c}getAsCurrentPoint(a,b){var c=this.getPoint(a,b);return this.current=c,c}getReflectedControlPoint(){var a=this.previousCommand.type;if(a!==h.OU.CURVE_TO&&a!==h.OU.SMOOTH_CURVE_TO&&a!==h.OU.QUAD_TO&&a!==h.OU.SMOOTH_QUAD_TO)return this.current;var{current:{x:b,y:c},control:{x:d,y:e}}=this;return new P(2*b-d,2*c-e)}makeAbsolute(a){if(this.command.relative){var{x:b,y:c}=this.current;a.x+=b,a.y+=c}return a}addMarker(a,b,c){var{points:d,angles:e}=this;c&&e.length>0&&!e[e.length-1]&&(e[e.length-1]=d[d.length-1].angleTo(c)),this.addMarkerAngle(a,b?b.angleTo(a):null)}addMarkerAngle(a,b){this.points.push(a),this.angles.push(b)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:a}=this,b=a.length,c=0;c<b;c++)if(!a[c]){for(var d=c+1;d<b;d++)if(a[d]){a[c]=a[d];break}}return a}}class aj extends ad{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var a=1,b=this;b;){var c=b.getStyle("opacity",!1,!0);c.hasValue(!0)&&(a*=c.getNumber()),b=b.parent}return a}setContext(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(!b){var c=this.getStyle("fill"),d=this.getStyle("fill-opacity"),e=this.getStyle("stroke"),f=this.getStyle("stroke-opacity");if(c.isUrlDefinition()){var g=c.getFillStyleDefinition(this,d);g&&(a.fillStyle=g)}else if(c.hasValue()){"currentColor"===c.getString()&&c.setValue(this.getStyle("color").getColor());var h=c.getColor();"inherit"!==h&&(a.fillStyle="none"===h?"rgba(0,0,0,0)":h)}if(d.hasValue()){var i=new N(this.document,"fill",a.fillStyle).addOpacity(d).getColor();a.fillStyle=i}if(e.isUrlDefinition()){var j=e.getFillStyleDefinition(this,f);j&&(a.strokeStyle=j)}else if(e.hasValue()){"currentColor"===e.getString()&&e.setValue(this.getStyle("color").getColor());var k=e.getString();"inherit"!==k&&(a.strokeStyle="none"===k?"rgba(0,0,0,0)":k)}if(f.hasValue()){var l=new N(this.document,"stroke",a.strokeStyle).addOpacity(f).getString();a.strokeStyle=l}var m=this.getStyle("stroke-width");if(m.hasValue()){var n=m.getPixels();a.lineWidth=n||C}var p=this.getStyle("stroke-linecap"),q=this.getStyle("stroke-linejoin"),r=this.getStyle("stroke-miterlimit"),s=this.getStyle("stroke-dasharray"),t=this.getStyle("stroke-dashoffset");if(p.hasValue()&&(a.lineCap=p.getString()),q.hasValue()&&(a.lineJoin=q.getString()),r.hasValue()&&(a.miterLimit=r.getNumber()),s.hasValue()&&"none"!==s.getString()){var u=o(s.getString());void 0!==a.setLineDash?a.setLineDash(u):void 0!==a.webkitLineDash?a.webkitLineDash=u:void 0===a.mozDash||1===u.length&&0===u[0]||(a.mozDash=u);var v=t.getPixels();void 0!==a.lineDashOffset?a.lineDashOffset=v:void 0!==a.webkitLineDashOffset?a.webkitLineDashOffset=v:void 0!==a.mozDashOffset&&(a.mozDashOffset=v)}}if(this.modifiedEmSizeStack=!1,void 0!==a.font){var w=this.getStyle("font"),x=this.getStyle("font-style"),y=this.getStyle("font-variant"),z=this.getStyle("font-weight"),A=this.getStyle("font-size"),B=this.getStyle("font-family"),D=new ag(x.getString(),y.getString(),z.getString(),A.hasValue()?"".concat(A.getPixels(!0),"px"):"",B.getString(),ag.parse(w.getString(),a.font));x.setValue(D.fontStyle),y.setValue(D.fontVariant),z.setValue(D.fontWeight),A.setValue(D.fontSize),B.setValue(D.fontFamily),a.font=D.toString(),A.isPixels()&&(this.document.emSize=A.getPixels(),this.modifiedEmSizeStack=!0)}b||(this.applyEffects(a),a.globalAlpha=this.calculateOpacity())}clearContext(a){super.clearContext(a),this.modifiedEmSizeStack&&this.document.popEmSize()}}class ak extends aj{constructor(a,b,c){super(a,b,c),this.type="path",this.pathParser=null,this.pathParser=new ai(this.getAttribute("d").getString())}path(a){var{pathParser:b}=this,c=new ah;for(b.reset(),a&&a.beginPath();!b.isEnd();)switch(b.next().type){case ai.MOVE_TO:this.pathM(a,c);break;case ai.LINE_TO:this.pathL(a,c);break;case ai.HORIZ_LINE_TO:this.pathH(a,c);break;case ai.VERT_LINE_TO:this.pathV(a,c);break;case ai.CURVE_TO:this.pathC(a,c);break;case ai.SMOOTH_CURVE_TO:this.pathS(a,c);break;case ai.QUAD_TO:this.pathQ(a,c);break;case ai.SMOOTH_QUAD_TO:this.pathT(a,c);break;case ai.ARC:this.pathA(a,c);break;case ai.CLOSE_PATH:this.pathZ(a,c)}return c}getBoundingBox(a){return this.path()}getMarkers(){var{pathParser:a}=this,b=a.getMarkerPoints(),c=a.getMarkerAngles(),d=b.map((a,b)=>[a,c[b]]);return d}renderChildren(a){this.path(a),this.document.screen.mouse.checkPath(this,a);var b=this.getStyle("fill-rule");""!==a.fillStyle&&("inherit"!==b.getString("inherit")?a.fill(b.getString()):a.fill()),""!==a.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(a.save(),a.setTransform(1,0,0,1,0,0),a.stroke(),a.restore()):a.stroke());var c=this.getMarkers();if(c){var d=c.length-1,e=this.getStyle("marker-start"),f=this.getStyle("marker-mid"),g=this.getStyle("marker-end");if(e.isUrlDefinition()){var h=e.getDefinition(),[i,j]=c[0];h.render(a,i,j)}if(f.isUrlDefinition())for(var k=f.getDefinition(),l=1;l<d;l++){var[m,n]=c[l];k.render(a,m,n)}if(g.isUrlDefinition()){var o=g.getDefinition(),[p,q]=c[d];o.render(a,p,q)}}}static pathM(a){var b=a.getAsCurrentPoint();return a.start=a.current,{point:b}}pathM(a,b){var{pathParser:c}=this,{point:d}=ak.pathM(c),{x:e,y:f}=d;c.addMarker(d),b.addPoint(e,f),a&&a.moveTo(e,f)}static pathL(a){var{current:b}=a,c=a.getAsCurrentPoint();return{current:b,point:c}}pathL(a,b){var{pathParser:c}=this,{current:d,point:e}=ak.pathL(c),{x:f,y:g}=e;c.addMarker(e,d),b.addPoint(f,g),a&&a.lineTo(f,g)}static pathH(a){var{current:b,command:c}=a,d=new P((c.relative?b.x:0)+c.x,b.y);return a.current=d,{current:b,point:d}}pathH(a,b){var{pathParser:c}=this,{current:d,point:e}=ak.pathH(c),{x:f,y:g}=e;c.addMarker(e,d),b.addPoint(f,g),a&&a.lineTo(f,g)}static pathV(a){var{current:b,command:c}=a,d=new P(b.x,(c.relative?b.y:0)+c.y);return a.current=d,{current:b,point:d}}pathV(a,b){var{pathParser:c}=this,{current:d,point:e}=ak.pathV(c),{x:f,y:g}=e;c.addMarker(e,d),b.addPoint(f,g),a&&a.lineTo(f,g)}static pathC(a){var{current:b}=a,c=a.getPoint("x1","y1"),d=a.getAsControlPoint("x2","y2"),e=a.getAsCurrentPoint();return{current:b,point:c,controlPoint:d,currentPoint:e}}pathC(a,b){var{pathParser:c}=this,{current:d,point:e,controlPoint:f,currentPoint:g}=ak.pathC(c);c.addMarker(g,f,e),b.addBezierCurve(d.x,d.y,e.x,e.y,f.x,f.y,g.x,g.y),a&&a.bezierCurveTo(e.x,e.y,f.x,f.y,g.x,g.y)}static pathS(a){var{current:b}=a,c=a.getReflectedControlPoint(),d=a.getAsControlPoint("x2","y2"),e=a.getAsCurrentPoint();return{current:b,point:c,controlPoint:d,currentPoint:e}}pathS(a,b){var{pathParser:c}=this,{current:d,point:e,controlPoint:f,currentPoint:g}=ak.pathS(c);c.addMarker(g,f,e),b.addBezierCurve(d.x,d.y,e.x,e.y,f.x,f.y,g.x,g.y),a&&a.bezierCurveTo(e.x,e.y,f.x,f.y,g.x,g.y)}static pathQ(a){var{current:b}=a,c=a.getAsControlPoint("x1","y1"),d=a.getAsCurrentPoint();return{current:b,controlPoint:c,currentPoint:d}}pathQ(a,b){var{pathParser:c}=this,{current:d,controlPoint:e,currentPoint:f}=ak.pathQ(c);c.addMarker(f,e,e),b.addQuadraticCurve(d.x,d.y,e.x,e.y,f.x,f.y),a&&a.quadraticCurveTo(e.x,e.y,f.x,f.y)}static pathT(a){var{current:b}=a,c=a.getReflectedControlPoint();a.control=c;var d=a.getAsCurrentPoint();return{current:b,controlPoint:c,currentPoint:d}}pathT(a,b){var{pathParser:c}=this,{current:d,controlPoint:e,currentPoint:f}=ak.pathT(c);c.addMarker(f,e,e),b.addQuadraticCurve(d.x,d.y,e.x,e.y,f.x,f.y),a&&a.quadraticCurveTo(e.x,e.y,f.x,f.y)}static pathA(a){var{current:b,command:c}=a,{rX:d,rY:e,xRot:f,lArcFlag:g,sweepFlag:h}=c,i=f*(Math.PI/180),j=a.getAsCurrentPoint(),k=new P(Math.cos(i)*(b.x-j.x)/2+Math.sin(i)*(b.y-j.y)/2,-Math.sin(i)*(b.x-j.x)/2+Math.cos(i)*(b.y-j.y)/2),l=Math.pow(k.x,2)/Math.pow(d,2)+Math.pow(k.y,2)/Math.pow(e,2);l>1&&(d*=Math.sqrt(l),e*=Math.sqrt(l));var m=(g===h?-1:1)*Math.sqrt((Math.pow(d,2)*Math.pow(e,2)-Math.pow(d,2)*Math.pow(k.y,2)-Math.pow(e,2)*Math.pow(k.x,2))/(Math.pow(d,2)*Math.pow(k.y,2)+Math.pow(e,2)*Math.pow(k.x,2)));isNaN(m)&&(m=0);var n=new P(m*d*k.y/e,-(m*e)*k.x/d),o=new P((b.x+j.x)/2+Math.cos(i)*n.x-Math.sin(i)*n.y,(b.y+j.y)/2+Math.sin(i)*n.x+Math.cos(i)*n.y),p=F([1,0],[(k.x-n.x)/d,(k.y-n.y)/e]),q=[(k.x-n.x)/d,(k.y-n.y)/e],r=[(-k.x-n.x)/d,(-k.y-n.y)/e],s=F(q,r);return -1>=E(q,r)&&(s=Math.PI),E(q,r)>=1&&(s=0),{currentPoint:j,rX:d,rY:e,sweepFlag:h,xAxisRotation:i,centp:o,a1:p,ad:s}}pathA(a,b){var{pathParser:c}=this,{currentPoint:d,rX:e,rY:f,sweepFlag:g,xAxisRotation:h,centp:i,a1:j,ad:k}=ak.pathA(c),l=1-g?1:-1,m=j+l*(k/2),n=new P(i.x+e*Math.cos(m),i.y+f*Math.sin(m));if(c.addMarkerAngle(n,m-l*Math.PI/2),c.addMarkerAngle(d,m-l*Math.PI),b.addPoint(d.x,d.y),a&&!isNaN(j)&&!isNaN(k)){var o=e>f?e:f,p=e>f?1:e/f,q=e>f?f/e:1;a.translate(i.x,i.y),a.rotate(h),a.scale(p,q),a.arc(0,0,o,j,j+k,Boolean(1-g)),a.scale(1/p,1/q),a.rotate(-h),a.translate(-i.x,-i.y)}}static pathZ(a){a.current=a.start}pathZ(a,b){ak.pathZ(this.pathParser),a&&b.x1!==b.x2&&b.y1!==b.y2&&a.closePath()}}class al extends ak{constructor(a,b,c){super(a,b,c),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class am extends aj{constructor(a,b,c){super(a,b,new.target===am||c),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];super.setContext(a,b);var c=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();c&&(a.textBaseline=c)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(a){if("text"!==this.type)return this.getTElementBoundingBox(a);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(a);var b=null;return this.children.forEach((c,d)=>{var e=this.getChildBoundingBox(a,this,this,d);b?b.addBoundingBox(e):b=e}),b}getFontSize(){var{document:a,parent:b}=this,c=ag.parse(a.ctx.font).fontSize;return b.getStyle("font-size").getNumber(c)}getTElementBoundingBox(a){var b=this.getFontSize();return new ah(this.x,this.y-b,this.x+this.measureText(a),this.y)}getGlyph(a,b,c){var d=b[c],e=null;if(a.isArabic){var f=b.length,g=b[c-1],h=b[c+1],i="isolated";if((0===c||" "===g)&&c<f-1&&" "!==h&&(i="terminal"),c>0&&" "!==g&&c<f-1&&" "!==h&&(i="medial"),c>0&&" "!==g&&(c===f-1||" "===h)&&(i="initial"),void 0!==a.glyphs[d]){var j=a.glyphs[d];e=j instanceof al?j:j[i]}}else e=a.glyphs[d];return e||(e=a.missingGlyph),e}getText(){return""}getTextFromNode(a){var b=a||this.node,c=Array.from(b.parentNode.childNodes),d=c.indexOf(b),e=c.length-1,f=l(b.textContent||"");return 0===d&&(f=m(f)),d===e&&(f=n(f)),f}renderChildren(a){if("text"!==this.type){this.renderTElementChildren(a);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(a),this.children.forEach((b,c)=>{this.renderChild(a,this,this,c)});var{mouse:b}=this.document.screen;b.isWorking()&&b.checkBoundingBox(this,this.getBoundingBox(a))}renderTElementChildren(a){var{document:b,parent:c}=this,d=this.getText(),e=c.getStyle("font-family").getDefinition();if(e){for(var{unitsPerEm:f}=e.fontFace,g=ag.parse(b.ctx.font),h=c.getStyle("font-size").getNumber(g.fontSize),i=c.getStyle("font-style").getString(g.fontStyle),j=h/f,k=e.isRTL?d.split("").reverse().join(""):d,l=o(c.getAttribute("dx").getString()),m=k.length,n=0;n<m;n++){var p=this.getGlyph(e,k,n);a.translate(this.x,this.y),a.scale(j,-j);var q=a.lineWidth;a.lineWidth=a.lineWidth*f/h,"italic"===i&&a.transform(1,0,.4,1,0,0),p.render(a),"italic"===i&&a.transform(1,0,-.4,1,0,0),a.lineWidth=q,a.scale(1/j,-1/j),a.translate(-this.x,-this.y),this.x+=h*(p.horizAdvX||e.horizAdvX)/f,void 0===l[n]||isNaN(l[n])||(this.x+=l[n])}return}var{x:r,y:s}=this;a.fillStyle&&a.fillText(d,r,s),a.strokeStyle&&a.strokeText(d,r,s)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var a=this.leafTexts[this.textChunkStart],b=a.getStyle("text-anchor").getString("start"),c=0;c="start"===b||"end"===b?a.x-this.minX:"end"===b||"start"===b?a.x-this.maxX:a.x-(this.minX+this.maxX)/2;for(var d=this.textChunkStart;d<this.leafTexts.length;d++)this.leafTexts[d].x+=c;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(a){this.children.forEach((b,c)=>{this.adjustChildCoordinatesRecursiveCore(a,this,this,c)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(a,b,c,d){var e=c.children[d];e.children.length>0?e.children.forEach((c,d)=>{b.adjustChildCoordinatesRecursiveCore(a,b,e,d)}):this.adjustChildCoordinates(a,b,c,d)}adjustChildCoordinates(a,b,c,d){var e=c.children[d];if("function"!=typeof e.measureText)return e;a.save(),e.setContext(a,!0);var f=e.getAttribute("x"),g=e.getAttribute("y"),h=e.getAttribute("dx"),i=e.getAttribute("dy"),j=e.getStyle("font-family").getDefinition(),k=Boolean(j)&&j.isRTL;0!==d||(f.hasValue()||f.setValue(e.getInheritedAttribute("x")),g.hasValue()||g.setValue(e.getInheritedAttribute("y")),h.hasValue()||h.setValue(e.getInheritedAttribute("dx")),i.hasValue()||i.setValue(e.getInheritedAttribute("dy")));var l=e.measureText(a);return k&&(b.x-=l),f.hasValue()?(b.applyAnchoring(),e.x=f.getPixels("x"),h.hasValue()&&(e.x+=h.getPixels("x"))):(h.hasValue()&&(b.x+=h.getPixels("x")),e.x=b.x),b.x=e.x,k||(b.x+=l),g.hasValue()?(e.y=g.getPixels("y"),i.hasValue()&&(e.y+=i.getPixels("y"))):(i.hasValue()&&(b.y+=i.getPixels("y")),e.y=b.y),b.y=e.y,b.leafTexts.push(e),b.minX=Math.min(b.minX,e.x,e.x+l),b.maxX=Math.max(b.maxX,e.x,e.x+l),e.clearContext(a),a.restore(),e}getChildBoundingBox(a,b,c,d){var e=c.children[d];if("function"!=typeof e.getBoundingBox)return null;var f=e.getBoundingBox(a);return f?(e.children.forEach((c,d)=>{var g=b.getChildBoundingBox(a,b,e,d);f.addBoundingBox(g)}),f):null}renderChild(a,b,c,d){var e=c.children[d];e.render(a),e.children.forEach((c,d)=>{b.renderChild(a,b,e,d)})}measureText(a){var{measureCache:b}=this;if(~b)return b;var c=this.getText(),d=this.measureTargetText(a,c);return this.measureCache=d,d}measureTargetText(a,b){if(!b.length)return 0;var{parent:c}=this,d=c.getStyle("font-family").getDefinition();if(d){for(var e=this.getFontSize(),f=d.isRTL?b.split("").reverse().join(""):b,g=o(c.getAttribute("dx").getString()),h=f.length,i=0,j=0;j<h;j++){var k=this.getGlyph(d,f,j);i+=(k.horizAdvX||d.horizAdvX)*e/d.fontFace.unitsPerEm,void 0===g[j]||isNaN(g[j])||(i+=g[j])}return i}if(!a.measureText)return 10*b.length;a.save(),this.setContext(a,!0);var{width:l}=a.measureText(b);return this.clearContext(a),a.restore(),l}getInheritedAttribute(a){for(var b=this;b instanceof am&&b.isFirstChild();){var c=b.parent.getAttribute(a);if(c.hasValue(!0))return c.getValue("0");b=b.parent}return null}}class an extends am{constructor(a,b,c){super(a,b,new.target===an||c),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class ao extends an{constructor(){super(...arguments),this.type="textNode"}}class ap extends aj{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(a){var b,{document:c}=this,{screen:d,window:e}=c,f=a.canvas;if(d.setDefaults(a),f.style&& void 0!==a.font&&e&& void 0!==e.getComputedStyle){a.font=e.getComputedStyle(f).getPropertyValue("font");var g=new N(c,"fontSize",ag.parse(a.font).fontSize);g.hasValue()&&(c.rootEmSize=g.getPixels("y"),c.emSize=c.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:h,height:i}=d.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var j=this.getAttribute("refX"),k=this.getAttribute("refY"),l=this.getAttribute("viewBox"),m=l.hasValue()?o(l.getString()):null,n=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),p=0,q=0,r=0,s=0;m&&(p=m[0],q=m[1]),this.root||(h=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y"),"marker"!==this.type||(r=p,s=q,p=0,q=0)),d.viewPort.setCurrent(h,i),this.node&&(!this.parent||(null===(b=this.node.parentNode)|| void 0===b?void 0:b.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(a),a.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),m&&(h=m[2],i=m[3]),c.setViewBox({ctx:a,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:d.viewPort.width,desiredWidth:h,height:d.viewPort.height,desiredHeight:i,minX:p,minY:q,refX:j.getValue(),refY:k.getValue(),clip:n,clipX:r,clipY:s}),m&&(d.viewPort.removeCurrent(),d.viewPort.setCurrent(h,i))}clearContext(a){super.clearContext(a),this.document.screen.viewPort.removeCurrent()}resize(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:a,c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=this.getAttribute("width",!0),e=this.getAttribute("height",!0),f=this.getAttribute("viewBox"),g=this.getAttribute("style"),h=d.getNumber(0),i=e.getNumber(0);if(c){if("string"==typeof c)this.getAttribute("preserveAspectRatio",!0).setValue(c);else{var j=this.getAttribute("preserveAspectRatio");j.hasValue()&&j.setValue(j.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}}if(d.setValue(a),e.setValue(b),f.hasValue()||f.setValue("0 0 ".concat(h||a," ").concat(i||b)),g.hasValue()){var k=this.getStyle("width"),l=this.getStyle("height");k.hasValue()&&k.setValue("".concat(a,"px")),l.hasValue()&&l.setValue("".concat(b,"px"))}}}class aq extends ak{constructor(){super(...arguments),this.type="rect"}path(a){var b=this.getAttribute("x").getPixels("x"),c=this.getAttribute("y").getPixels("y"),d=this.getStyle("width",!1,!0).getPixels("x"),e=this.getStyle("height",!1,!0).getPixels("y"),f=this.getAttribute("rx"),g=this.getAttribute("ry"),h=f.getPixels("x"),i=g.getPixels("y");if(f.hasValue()&&!g.hasValue()&&(i=h),g.hasValue()&&!f.hasValue()&&(h=i),h=Math.min(h,d/2),i=Math.min(i,e/2),a){var j=4*((Math.sqrt(2)-1)/3);a.beginPath(),e>0&&d>0&&(a.moveTo(b+h,c),a.lineTo(b+d-h,c),a.bezierCurveTo(b+d-h+j*h,c,b+d,c+i-j*i,b+d,c+i),a.lineTo(b+d,c+e-i),a.bezierCurveTo(b+d,c+e-i+j*i,b+d-h+j*h,c+e,b+d-h,c+e),a.lineTo(b+h,c+e),a.bezierCurveTo(b+h-j*h,c+e,b,c+e-i+j*i,b,c+e-i),a.lineTo(b,c+i),a.bezierCurveTo(b,c+i-j*i,b+h-j*h,c,b+h,c),a.closePath())}return new ah(b,c,b+d,c+e)}getMarkers(){return null}}class ar extends ak{constructor(){super(...arguments),this.type="circle"}path(a){var b=this.getAttribute("cx").getPixels("x"),c=this.getAttribute("cy").getPixels("y"),d=this.getAttribute("r").getPixels();return a&&d>0&&(a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!1),a.closePath()),new ah(b-d,c-d,b+d,c+d)}getMarkers(){return null}}class as extends ak{constructor(){super(...arguments),this.type="ellipse"}path(a){var b=4*((Math.sqrt(2)-1)/3),c=this.getAttribute("rx").getPixels("x"),d=this.getAttribute("ry").getPixels("y"),e=this.getAttribute("cx").getPixels("x"),f=this.getAttribute("cy").getPixels("y");return a&&c>0&&d>0&&(a.beginPath(),a.moveTo(e+c,f),a.bezierCurveTo(e+c,f+b*d,e+b*c,f+d,e,f+d),a.bezierCurveTo(e-b*c,f+d,e-c,f+b*d,e-c,f),a.bezierCurveTo(e-c,f-b*d,e-b*c,f-d,e,f-d),a.bezierCurveTo(e+b*c,f-d,e+c,f-b*d,e+c,f),a.closePath()),new ah(e-c,f-d,e+c,f+d)}getMarkers(){return null}}class at extends ak{constructor(){super(...arguments),this.type="line"}getPoints(){return[new P(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new P(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(a){var[{x:b,y:c},{x:d,y:e}]=this.getPoints();return a&&(a.beginPath(),a.moveTo(b,c),a.lineTo(d,e)),new ah(b,c,d,e)}getMarkers(){var[a,b]=this.getPoints(),c=a.angleTo(b);return[[a,c],[b,c]]}}class au extends ak{constructor(a,b,c){super(a,b,c),this.type="polyline",this.points=[],this.points=P.parsePath(this.getAttribute("points").getString())}path(a){var{points:b}=this,[{x:c,y:d}]=b,e=new ah(c,d);return a&&(a.beginPath(),a.moveTo(c,d)),b.forEach(b=>{var{x:c,y:d}=b;e.addPoint(c,d),a&&a.lineTo(c,d)}),e}getMarkers(){var{points:a}=this,b=a.length-1,c=[];return a.forEach((d,e)=>{e!==b&&c.push([d,d.angleTo(a[e+1])])}),c.length>0&&c.push([a[a.length-1],c[c.length-1][1]]),c}}class av extends au{constructor(){super(...arguments),this.type="polygon"}path(a){var b=super.path(a),[{x:c,y:d}]=this.points;return a&&(a.lineTo(c,d),a.closePath()),b}}class aw extends ad{constructor(){super(...arguments),this.type="pattern"}createPattern(a,b,c){var d=this.getStyle("width").getPixels("x",!0),e=this.getStyle("height").getPixels("y",!0),f=new ap(this.document,null);f.attributes.viewBox=new N(this.document,"viewBox",this.getAttribute("viewBox").getValue()),f.attributes.width=new N(this.document,"width","".concat(d,"px")),f.attributes.height=new N(this.document,"height","".concat(e,"px")),f.attributes.transform=new N(this.document,"transform",this.getAttribute("patternTransform").getValue()),f.children=this.children;var g=this.document.createCanvas(d,e),h=g.getContext("2d"),i=this.getAttribute("x"),j=this.getAttribute("y");i.hasValue()&&j.hasValue()&&h.translate(i.getPixels("x",!0),j.getPixels("y",!0)),c.hasValue()?this.styles["fill-opacity"]=c:Reflect.deleteProperty(this.styles,"fill-opacity");for(var k=-1;k<=1;k++)for(var l=-1;l<=1;l++)h.save(),f.attributes.x=new N(this.document,"x",k*g.width),f.attributes.y=new N(this.document,"y",l*g.height),f.render(h),h.restore();return a.createPattern(g,"repeat")}}class ax extends ad{constructor(){super(...arguments),this.type="marker"}render(a,b,c){if(b){var{x:d,y:e}=b,f=this.getAttribute("orient").getString("auto"),g=this.getAttribute("markerUnits").getString("strokeWidth");a.translate(d,e),"auto"===f&&a.rotate(c),"strokeWidth"===g&&a.scale(a.lineWidth,a.lineWidth),a.save();var h=new ap(this.document,null);h.type=this.type,h.attributes.viewBox=new N(this.document,"viewBox",this.getAttribute("viewBox").getValue()),h.attributes.refX=new N(this.document,"refX",this.getAttribute("refX").getValue()),h.attributes.refY=new N(this.document,"refY",this.getAttribute("refY").getValue()),h.attributes.width=new N(this.document,"width",this.getAttribute("markerWidth").getValue()),h.attributes.height=new N(this.document,"height",this.getAttribute("markerHeight").getValue()),h.attributes.overflow=new N(this.document,"overflow",this.getAttribute("overflow").getValue()),h.attributes.fill=new N(this.document,"fill",this.getAttribute("fill").getColor("black")),h.attributes.stroke=new N(this.document,"stroke",this.getAttribute("stroke").getValue("none")),h.children=this.children,h.render(a),a.restore(),"strokeWidth"===g&&a.scale(1/a.lineWidth,1/a.lineWidth),"auto"===f&&a.rotate(-c),a.translate(-d,-e)}}}class ay extends ad{constructor(){super(...arguments),this.type="defs"}render(){}}class az extends aj{constructor(){super(...arguments),this.type="g"}getBoundingBox(a){var b=new ah;return this.children.forEach(c=>{b.addBoundingBox(c.getBoundingBox(a))}),b}}class aA extends ad{constructor(a,b,c){super(a,b,c),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:d,children:e}=this;e.forEach(a=>{"stop"===a.type&&d.push(a)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(a,b,c){var d=this;this.getHrefAttribute().hasValue()&&(d=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(d));var{stops:e}=d,f=this.getGradient(a,b);if(!f)return this.addParentOpacity(c,e[e.length-1].color);if(e.forEach(a=>{f.addColorStop(a.offset,this.addParentOpacity(c,a.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:g}=this,{MAX_VIRTUAL_PIXELS:h,viewPort:i}=g.screen,[j]=i.viewPorts,k=new aq(g,null);k.attributes.x=new N(g,"x",-h/3),k.attributes.y=new N(g,"y",-h/3),k.attributes.width=new N(g,"width",h),k.attributes.height=new N(g,"height",h);var l=new az(g,null);l.attributes.transform=new N(g,"transform",this.getAttribute("gradientTransform").getValue()),l.children=[k];var m=new ap(g,null);m.attributes.x=new N(g,"x",0),m.attributes.y=new N(g,"y",0),m.attributes.width=new N(g,"width",j.width),m.attributes.height=new N(g,"height",j.height),m.children=[l];var n=g.createCanvas(j.width,j.height),o=n.getContext("2d");return o.fillStyle=f,m.render(o),o.createPattern(n,"no-repeat")}return f}inheritStopContainer(a){this.attributesToInherit.forEach(b=>{!this.getAttribute(b).hasValue()&&a.getAttribute(b).hasValue()&&this.getAttribute(b,!0).setValue(a.getAttribute(b).getValue())})}addParentOpacity(a,b){return a.hasValue()?new N(this.document,"color",b).addOpacity(a).getColor():b}}class aB extends aA{constructor(a,b,c){super(a,b,c),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(a,b){var c="objectBoundingBox"===this.getGradientUnits(),d=c?b.getBoundingBox(a):null;if(c&&!d)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var e=c?d.x+d.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),f=c?d.y+d.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),g=c?d.x+d.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),h=c?d.y+d.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return e===g&&f===h?null:a.createLinearGradient(e,f,g,h)}}class aC extends aA{constructor(a,b,c){super(a,b,c),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(a,b){var c="objectBoundingBox"===this.getGradientUnits(),d=b.getBoundingBox(a);if(c&&!d)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var e=c?d.x+d.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),f=c?d.y+d.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),g=e,h=f;this.getAttribute("fx").hasValue()&&(g=c?d.x+d.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(h=c?d.y+d.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var i=c?(d.width+d.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),j=this.getAttribute("fr").getPixels();return a.createRadialGradient(g,h,j,e,f,i)}}class aD extends ad{constructor(a,b,c){super(a,b,c),this.type="stop";var d=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),e=this.getStyle("stop-opacity"),f=this.getStyle("stop-color",!0);""===f.getString()&&f.setValue("#000"),e.hasValue()&&(f=f.addOpacity(e)),this.offset=d,this.color=f.getColor()}}class aE extends ad{constructor(a,b,c){super(a,b,c),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,a.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new N(a,"values",null);var d=this.getAttribute("values");d.hasValue()&&this.values.setValue(d.getString().split(";"))}getProperty(){var a=this.getAttribute("attributeType").getString(),b=this.getAttribute("attributeName").getString();return"CSS"===a?this.parent.getStyle(b,!0):this.parent.getAttribute(b,!0)}calcValue(){var{initialUnits:a}=this,{progress:b,from:c,to:d}=this.getProgress(),e=c.getNumber()+(d.getNumber()-c.getNumber())*b;return"%"===a&&(e*=100),"".concat(e).concat(a)}update(a){var{parent:b}=this,c=this.getProperty();if(this.initialValue||(this.initialValue=c.getString(),this.initialUnits=c.getUnits()),this.duration>this.maxDuration){var d=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==d||this.frozen){if("remove"===d&&!this.removed)return this.removed=!0,c.setValue(b.animationFrozen?b.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,b.animationFrozen=!0,b.animationFrozenValue=c.getString();return!1}this.duration+=a;var e=!1;if(this.begin<this.duration){var f=this.calcValue(),g=this.getAttribute("type");if(g.hasValue()){var h=g.getString();f="".concat(h,"(").concat(f,")")}c.setValue(f),e=!0}return e}getProgress(){var{document:a,values:b}=this,c={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(b.hasValue()){var d=c.progress*(b.getValue().length-1),e=Math.floor(d),f=Math.ceil(d);c.from=new N(a,"from",parseFloat(b.getValue()[e])),c.to=new N(a,"to",parseFloat(b.getValue()[f])),c.progress=(d-e)/(f-e)}else c.from=this.from,c.to=this.to;return c}}class aF extends aE{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:a,from:b,to:c}=this.getProgress(),d=new g(b.getColor()),e=new g(c.getColor());if(d.ok&&e.ok){var f=d.r+(e.r-d.r)*a,h=d.g+(e.g-d.g)*a,i=d.b+(e.b-d.b)*a;return"rgb(".concat(Math.floor(f),", ").concat(Math.floor(h),", ").concat(Math.floor(i),")")}return this.getAttribute("from").getColor()}}class aG extends aE{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:a,from:b,to:c}=this.getProgress(),d=o(b.getString()),e=o(c.getString()),f=d.map((b,c)=>b+(e[c]-b)*a).join(" ");return f}}class aH extends ad{constructor(a,b,c){super(a,b,c),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:d}=a,{children:e}=this;for(var f of e)switch(f.type){case"font-face":this.fontFace=f;var g=f.getStyle("font-family");g.hasValue()&&(d[g.getString()]=this);break;case"missing-glyph":this.missingGlyph=f;break;case"glyph":var h=f;h.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[h.unicode]&&(this.glyphs[h.unicode]={}),this.glyphs[h.unicode][h.arabicForm]=h):this.glyphs[h.unicode]=h}}render(){}}class aI extends ad{constructor(a,b,c){super(a,b,c),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class aJ extends ak{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class aK extends am{constructor(){super(...arguments),this.type="tref"}getText(){var a=this.getHrefAttribute().getDefinition();if(a){var b=a.children[0];if(b)return b.getText()}return""}}class aL extends am{constructor(a,b,c){super(a,b,c),this.type="a";var{childNodes:d}=b,e=d[0],f=d.length>0&&Array.from(d).every(a=>3===a.nodeType);this.hasText=f,this.text=f?this.getTextFromNode(e):""}getText(){return this.text}renderChildren(a){if(this.hasText){super.renderChildren(a);var{document:b,x:c,y:d}=this,{mouse:e}=b.screen,f=new N(b,"fontSize",ag.parse(b.ctx.font).fontSize);e.isWorking()&&e.checkBoundingBox(this,new ah(c,d-f.getPixels("y"),c+this.measureText(a),d))}else if(this.children.length>0){var g=new az(this.document,null);g.children=this.children,g.parent=this,g.render(a)}}onClick(){var{window:a}=this.document;a&&a.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function aM(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aN(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aM(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aM(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}class aO extends am{constructor(a,b,c){super(a,b,c),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var d=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(d)}getText(){return this.text}path(a){var{dataArray:b}=this;a&&a.beginPath(),b.forEach(b=>{var{type:c,points:d}=b;switch(c){case ai.LINE_TO:a&&a.lineTo(d[0],d[1]);break;case ai.MOVE_TO:a&&a.moveTo(d[0],d[1]);break;case ai.CURVE_TO:a&&a.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]);break;case ai.QUAD_TO:a&&a.quadraticCurveTo(d[0],d[1],d[2],d[3]);break;case ai.ARC:var[e,f,g,h,i,j,k,l]=d,m=g>h?g:h,n=g>h?1:g/h,o=g>h?h/g:1;a&&(a.translate(e,f),a.rotate(k),a.scale(n,o),a.arc(0,0,m,i,i+j,Boolean(1-l)),a.scale(1/n,1/o),a.rotate(-k),a.translate(-e,-f));break;case ai.CLOSE_PATH:a&&a.closePath()}})}renderChildren(a){this.setTextData(a),a.save();var b=this.parent.getStyle("text-decoration").getString(),c=this.getFontSize(),{glyphInfo:d}=this,e=a.fillStyle;"underline"===b&&a.beginPath(),d.forEach((d,e)=>{var{p0:f,p1:g,rotation:h,text:i}=d;a.save(),a.translate(f.x,f.y),a.rotate(h),a.fillStyle&&a.fillText(i,0,0),a.strokeStyle&&a.strokeText(i,0,0),a.restore(),"underline"===b&&(0===e&&a.moveTo(f.x,f.y+c/8),a.lineTo(g.x,g.y+c/5))}),"underline"===b&&(a.lineWidth=c/20,a.strokeStyle=e,a.stroke(),a.closePath()),a.restore()}getLetterSpacingAt(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[a]||0}findSegmentToFitChar(a,b,c,d,e,f,g,h,i){var j=f,k=this.measureText(a,h);" "===h&&"justify"===b&&c<d&&(k+=(d-c)/e),i> -1&&(j+=this.getLetterSpacingAt(i));var l=this.textHeight/20,m=this.getEquidistantPointOnPath(j,l,0),n=this.getEquidistantPointOnPath(j+k,l,0),o={p0:m,p1:n},p=m&&n?Math.atan2(n.y-m.y,n.x-m.x):0;if(g){var q=Math.cos(Math.PI/2+p)*g,r=Math.cos(-p)*g;o.p0=aN(aN({},m),{},{x:m.x+q,y:m.y+r}),o.p1=aN(aN({},n),{},{x:n.x+q,y:n.y+r})}return j+=k,{offset:j,segment:o,rotation:p}}measureText(a,b){var{measuresCache:c}=this,d=b||this.getText();if(c.has(d))return c.get(d);var e=this.measureTargetText(a,d);return c.set(d,e),e}setTextData(a){if(!this.glyphInfo){var b=this.getText(),c=b.split(""),d=b.split(" ").length-1,e=this.parent.getAttribute("dx").split().map(a=>a.getPixels("x")),f=this.parent.getAttribute("dy").getPixels("y"),g=this.parent.getStyle("text-anchor").getString("start"),h=this.getStyle("letter-spacing"),i=this.parent.getStyle("letter-spacing"),j=0;h.hasValue()&&"inherit"!==h.getValue()?h.hasValue()&&"initial"!==h.getValue()&&"unset"!==h.getValue()&&(j=h.getPixels()):j=i.getPixels();var k=[],l=b.length;this.letterSpacingCache=k;for(var m=0;m<l;m++)k.push(void 0!==e[m]?e[m]:j);var n=k.reduce((a,b,c)=>0===c?0:a+b||0,0),o=this.measureText(a),p=Math.max(o+n,0);this.textWidth=o,this.textHeight=this.getFontSize(),this.glyphInfo=[];var q=this.getPathLength(),r=this.getStyle("startOffset").getNumber(0)*q,s=0;("middle"===g||"center"===g)&&(s=-p/2),("end"===g||"right"===g)&&(s=-p),s+=r,c.forEach((b,e)=>{var{offset:h,segment:i,rotation:j}=this.findSegmentToFitChar(a,g,p,q,d,s,f,b,e);s=h,i.p0&&i.p1&&this.glyphInfo.push({text:c[e],p0:i.p0,p1:i.p1,rotation:j})})}}parsePathData(a){if(this.pathLength=-1,!a)return[];var b=[],{pathParser:c}=a;for(c.reset();!c.isEnd();){var{current:d}=c,e=d?d.x:0,f=d?d.y:0,g=c.next(),h=g.type,i=[];switch(g.type){case ai.MOVE_TO:this.pathM(c,i);break;case ai.LINE_TO:h=this.pathL(c,i);break;case ai.HORIZ_LINE_TO:h=this.pathH(c,i);break;case ai.VERT_LINE_TO:h=this.pathV(c,i);break;case ai.CURVE_TO:this.pathC(c,i);break;case ai.SMOOTH_CURVE_TO:h=this.pathS(c,i);break;case ai.QUAD_TO:this.pathQ(c,i);break;case ai.SMOOTH_QUAD_TO:h=this.pathT(c,i);break;case ai.ARC:i=this.pathA(c);break;case ai.CLOSE_PATH:ak.pathZ(c)}g.type!==ai.CLOSE_PATH?b.push({type:h,points:i,start:{x:e,y:f},pathLength:this.calcLength(e,f,h,i)}):b.push({type:ai.CLOSE_PATH,points:[],pathLength:0})}return b}pathM(a,b){var{x:c,y:d}=ak.pathM(a).point;b.push(c,d)}pathL(a,b){var{x:c,y:d}=ak.pathL(a).point;return b.push(c,d),ai.LINE_TO}pathH(a,b){var{x:c,y:d}=ak.pathH(a).point;return b.push(c,d),ai.LINE_TO}pathV(a,b){var{x:c,y:d}=ak.pathV(a).point;return b.push(c,d),ai.LINE_TO}pathC(a,b){var{point:c,controlPoint:d,currentPoint:e}=ak.pathC(a);b.push(c.x,c.y,d.x,d.y,e.x,e.y)}pathS(a,b){var{point:c,controlPoint:d,currentPoint:e}=ak.pathS(a);return b.push(c.x,c.y,d.x,d.y,e.x,e.y),ai.CURVE_TO}pathQ(a,b){var{controlPoint:c,currentPoint:d}=ak.pathQ(a);b.push(c.x,c.y,d.x,d.y)}pathT(a,b){var{controlPoint:c,currentPoint:d}=ak.pathT(a);return b.push(c.x,c.y,d.x,d.y),ai.QUAD_TO}pathA(a){var{rX:b,rY:c,sweepFlag:d,xAxisRotation:e,centp:f,a1:g,ad:h}=ak.pathA(a);return 0===d&&h>0&&(h-=2*Math.PI),1===d&&h<0&&(h+=2*Math.PI),[f.x,f.y,b,c,g,h,e,d]}calcLength(a,b,c,d){var e=0,f=null,g=null,h=0;switch(c){case ai.LINE_TO:return this.getLineLength(a,b,d[0],d[1]);case ai.CURVE_TO:for(h=.01,e=0,f=this.getPointOnCubicBezier(0,a,b,d[0],d[1],d[2],d[3],d[4],d[5]);h<=1;h+=.01)g=this.getPointOnCubicBezier(h,a,b,d[0],d[1],d[2],d[3],d[4],d[5]),e+=this.getLineLength(f.x,f.y,g.x,g.y),f=g;return e;case ai.QUAD_TO:for(h=.01,e=0,f=this.getPointOnQuadraticBezier(0,a,b,d[0],d[1],d[2],d[3]);h<=1;h+=.01)g=this.getPointOnQuadraticBezier(h,a,b,d[0],d[1],d[2],d[3]),e+=this.getLineLength(f.x,f.y,g.x,g.y),f=g;return e;case ai.ARC:e=0;var i=d[4],j=d[5],k=d[4]+j,l=Math.PI/180;if(Math.abs(i-k)<l&&(l=Math.abs(i-k)),f=this.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],i,0),j<0)for(h=i-l;h>k;h-=l)g=this.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],h,0),e+=this.getLineLength(f.x,f.y,g.x,g.y),f=g;else for(h=i+l;h<k;h+=l)g=this.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],h,0),e+=this.getLineLength(f.x,f.y,g.x,g.y),f=g;return g=this.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],k,0),e+=this.getLineLength(f.x,f.y,g.x,g.y)}return 0}getPointOnLine(a,b,c,d,e){var f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:b,g=arguments.length>6&& void 0!==arguments[6]?arguments[6]:c,h=(e-c)/(d-b+C),i=Math.sqrt(a*a/(1+h*h));d<b&&(i*=-1);var j=h*i,k=null;if(d===b)k={x:f,y:g+j};else if((g-c)/(f-b+C)===h)k={x:f+i,y:g+j};else{var l=0,m=0,n=this.getLineLength(b,c,d,e);if(n<C)return null;var o=(f-b)*(d-b)+(g-c)*(e-c);o/=n*n,l=b+o*(d-b),m=c+o*(e-c);var p=this.getLineLength(f,g,l,m),q=Math.sqrt(a*a-p*p);i=Math.sqrt(q*q/(1+h*h)),d<b&&(i*=-1),j=h*i,k={x:l+i,y:m+j}}return k}getPointOnPath(a){var b=this.getPathLength(),c=0,d=null;if(a< -.00005||a-5e-5>b)return null;var{dataArray:e}=this;for(var f of e){if(f&&(f.pathLength<5e-5||c+f.pathLength+5e-5<a)){c+=f.pathLength;continue}var g=a-c,h=0;switch(f.type){case ai.LINE_TO:d=this.getPointOnLine(g,f.start.x,f.start.y,f.points[0],f.points[1],f.start.x,f.start.y);break;case ai.ARC:var i=f.points[4],j=f.points[5],k=f.points[4]+j;if(h=i+g/f.pathLength*j,j<0&&h<k||j>=0&&h>k)break;d=this.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],h,f.points[6]);break;case ai.CURVE_TO:(h=g/f.pathLength)>1&&(h=1),d=this.getPointOnCubicBezier(h,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case ai.QUAD_TO:(h=g/f.pathLength)>1&&(h=1),d=this.getPointOnQuadraticBezier(h,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3])}if(d)return d;break}return null}getLineLength(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))}getPathLength(){return -1===this.pathLength&&(this.pathLength=this.dataArray.reduce((a,b)=>b.pathLength>0?a+b.pathLength:a,0)),this.pathLength}getPointOnCubicBezier(a,b,c,d,e,f,g,h,i){var j=h*G(a)+f*H(a)+d*I(a)+b*J(a),k=i*G(a)+g*H(a)+e*I(a)+c*J(a);return{x:j,y:k}}getPointOnQuadraticBezier(a,b,c,d,e,f,g){var h,i,j=f*((h=a)*h)+d*L(a)+b*M(a),k=g*((i=a)*i)+e*L(a)+c*M(a);return{x:j,y:k}}getPointOnEllipticalArc(a,b,c,d,e,f){var g=Math.cos(f),h=Math.sin(f),i={x:c*Math.cos(e),y:d*Math.sin(e)};return{x:a+(i.x*g-i.y*h),y:b+(i.x*h+i.y*g)}}buildEquidistantCache(a,b){var c=this.getPathLength(),d=b||.25,e=a||c/100;if(!this.equidistantCache||this.equidistantCache.step!==e||this.equidistantCache.precision!==d){this.equidistantCache={step:e,precision:d,points:[]};for(var f=0,g=0;g<=c;g+=d){var h=this.getPointOnPath(g),i=this.getPointOnPath(g+d);h&&i&&(f+=this.getLineLength(h.x,h.y,i.x,i.y))>=e&&(this.equidistantCache.points.push({x:h.x,y:h.y,distance:g}),f-=e)}}}getEquidistantPointOnPath(a,b,c){if(this.buildEquidistantCache(b,c),a<0||a-this.getPathLength()>5e-5)return null;var d=Math.round(a/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[d]||null}}var aP=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class aQ extends aj{constructor(a,b,c){super(a,b,c),this.type="image",this.loaded=!1;var d=this.getHrefAttribute().getString();if(!d)return;var e=d.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(d);a.images.push(this),e?this.loadSvg(d):this.loadImage(d),this.isSvg=e}loadImage(a){var b=this;return(0,d.Z)(function*(){try{var c=yield b.document.createImage(a);b.image=c}catch(d){console.error('Error while loading image "'.concat(a,'":'),d)}b.loaded=!0})()}loadSvg(a){var b=this;return(0,d.Z)(function*(){var c=aP.exec(a);if(c){var d=c[5];"base64"===c[4]?b.image=atob(d):b.image=decodeURIComponent(d)}else try{var e=yield(yield b.document.fetch(a)).text();b.image=e}catch(f){console.error('Error while loading image "'.concat(a,'":'),f)}b.loaded=!0})()}renderChildren(a){var{document:b,image:c,loaded:d}=this,e=this.getAttribute("x").getPixels("x"),f=this.getAttribute("y").getPixels("y"),g=this.getStyle("width").getPixels("x"),h=this.getStyle("height").getPixels("y");if(d&&c&&g&&h){if(a.save(),a.translate(e,f),this.isSvg){var i=b.canvg.forkString(a,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:g,scaleHeight:h});i.document.documentElement.parent=this,i.render()}else{var j=this.image;b.setViewBox({ctx:a,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:g,desiredWidth:j.width,height:h,desiredHeight:j.height}),this.loaded&&(void 0===j.complete||j.complete)&&a.drawImage(j,0,0)}a.restore()}}getBoundingBox(){var a=this.getAttribute("x").getPixels("x"),b=this.getAttribute("y").getPixels("y"),c=this.getStyle("width").getPixels("x"),d=this.getStyle("height").getPixels("y");return new ah(a,b,a+c,b+d)}}class aR extends aj{constructor(){super(...arguments),this.type="symbol"}render(a){}}class aS{constructor(a){this.document=a,this.loaded=!1,a.fonts.push(this)}load(a,b){var c=this;return(0,d.Z)(function*(){try{var{document:d}=c,e=(yield d.canvg.parser.load(b)).getElementsByTagName("font");Array.from(e).forEach(b=>{var c=d.createElement(b);d.definitions[a]=c})}catch(f){console.error('Error while loading font "'.concat(b,'":'),f)}c.loaded=!0})()}}class aT extends ad{constructor(a,b,c){super(a,b,c),this.type="style",l(Array.from(b.childNodes).map(a=>a.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(b=>{var c=b.trim();if(c){var d=c.split("{"),e=d[0].split(","),f=d[1].split(";");e.forEach(b=>{var c=b.trim();if(c){var d=a.styles[c]||{};if(f.forEach(b=>{var c=b.indexOf(":"),e=b.substr(0,c).trim(),f=b.substr(c+1,b.length-c).trim();e&&f&&(d[e]=new N(a,e,f))}),a.styles[c]=d,a.stylesSpecificity[c]=B(c),"@font-face"===c){var e=d["font-family"].getString().replace(/"|'/g,"");d.src.getString().split(",").forEach(b=>{if(b.indexOf('format("svg")')>0){var c=r(b);c&&new aS(a).load(e,c)}})}}})}})}}aT.parseExternalUrl=r;class aU extends aj{constructor(){super(...arguments),this.type="use"}setContext(a){super.setContext(a);var b=this.getAttribute("x"),c=this.getAttribute("y");b.hasValue()&&a.translate(b.getPixels("x"),0),c.hasValue()&&a.translate(0,c.getPixels("y"))}path(a){var{element:b}=this;b&&b.path(a)}renderChildren(a){var{document:b,element:c}=this;if(c){var d=c;if("symbol"===c.type&&((d=new ap(b,null)).attributes.viewBox=new N(b,"viewBox",c.getAttribute("viewBox").getString()),d.attributes.preserveAspectRatio=new N(b,"preserveAspectRatio",c.getAttribute("preserveAspectRatio").getString()),d.attributes.overflow=new N(b,"overflow",c.getAttribute("overflow").getString()),d.children=c.children,c.styles.opacity=new N(b,"opacity",this.calculateOpacity())),"svg"===d.type){var e=this.getStyle("width",!1,!0),f=this.getStyle("height",!1,!0);e.hasValue()&&(d.attributes.width=new N(b,"width",e.getString())),f.hasValue()&&(d.attributes.height=new N(b,"height",f.getString()))}var g=d.parent;d.parent=this,d.render(a),d.parent=g}}getBoundingBox(a){var{element:b}=this;return b?b.getBoundingBox(a):null}elementTransform(){var{document:a,element:b}=this;return ac.fromElement(a,b)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function aV(a,b,c,d,e,f){return a[c*d*4+4*b+f]}function aW(a,b,c,d,e,f,g){a[c*d*4+4*b+f]=g}function aX(a,b,c){return a[b]*c}function aY(a,b,c,d){return b+Math.cos(a)*c+Math.sin(a)*d}class aZ extends ad{constructor(a,b,c){super(a,b,c),this.type="feColorMatrix";var d=o(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var e=d[0];d=[.213+.787*e,.715-.715*e,.072-.072*e,0,0,.213-.213*e,.715+.285*e,.072-.072*e,0,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var f=d[0]*Math.PI/180;d=[aY(f,.213,.787,-.213),aY(f,.715,-.715,-.715),aY(f,.072,-.072,.928),0,0,aY(f,.213,-.213,.143),aY(f,.715,.285,.14),aY(f,.072,-.072,-.283),0,0,aY(f,.213,-.213,-.787),aY(f,.715,-.715,.715),aY(f,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=d,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(a,b,c,d,e){for(var{includeOpacity:f,matrix:g}=this,h=a.getImageData(0,0,d,e),i=0;i<e;i++)for(var j=0;j<d;j++){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq=aV(h.data,j,i,d,e,0),ar=aV(h.data,j,i,d,e,1),as=aV(h.data,j,i,d,e,2),at=aV(h.data,j,i,d,e,3),au=(k=g,l=0,m=aq,k[0]*m+(n=g,o=1,p=ar,n[1]*p)+(q=g,r=2,s=as,q[2]*s)+(t=g,u=3,v=at,t[3]*v)+(w=g,x=4,y=1,1*w[4])),av=(z=g,A=5,B=aq,z[5]*B+(C=g,D=6,E=ar,C[6]*E)+(F=g,G=7,H=as,F[7]*H)+(I=g,J=8,K=at,I[8]*K)+(L=g,M=9,N=1,1*L[9])),aw=(O=g,P=10,Q=aq,O[10]*Q+(R=g,S=11,T=ar,R[11]*T)+(U=g,V=12,W=as,U[12]*W)+(X=g,Y=13,Z=at,X[13]*Z)+($=g,_=14,aa=1,1*$[14])),ax=(ab=g,ac=15,ad=aq,ab[15]*ad+(ae=g,af=16,ag=ar,ae[16]*ag)+(ah=g,ai=17,aj=as,ah[17]*aj)+(ak=g,al=18,am=at,ak[18]*am)+(an=g,ao=19,ap=1,1*an[19]));f&&(au=0,av=0,aw=0,ax*=at/255),aW(h.data,j,i,d,e,0,au),aW(h.data,j,i,d,e,1,av),aW(h.data,j,i,d,e,2,aw),aW(h.data,j,i,d,e,3,ax)}a.clearRect(0,0,d,e),a.putImageData(h,0,0)}}class a$ extends ad{constructor(){super(...arguments),this.type="mask"}apply(a,b){var{document:c}=this,d=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),f=this.getStyle("width").getPixels("x"),g=this.getStyle("height").getPixels("y");if(!f&&!g){var h=new ah;this.children.forEach(b=>{h.addBoundingBox(b.getBoundingBox(a))}),d=Math.floor(h.x1),e=Math.floor(h.y1),f=Math.floor(h.width),g=Math.floor(h.height)}var i=this.removeStyles(b,a$.ignoreStyles),j=c.createCanvas(d+f,e+g),k=j.getContext("2d");c.screen.setDefaults(k),this.renderChildren(k),new aZ(c,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(k,0,0,d+f,e+g);var l=c.createCanvas(d+f,e+g),m=l.getContext("2d");c.screen.setDefaults(m),b.render(m),m.globalCompositeOperation="destination-in",m.fillStyle=k.createPattern(j,"no-repeat"),m.fillRect(0,0,d+f,e+g),a.fillStyle=m.createPattern(l,"no-repeat"),a.fillRect(0,0,d+f,e+g),this.restoreStyles(b,i)}render(a){}}a$.ignoreStyles=["mask","transform","clip-path"];var a_=()=>{};class a0 extends ad{constructor(){super(...arguments),this.type="clipPath"}apply(a){var{document:b}=this,c=Reflect.getPrototypeOf(a),{beginPath:d,closePath:e}=a;c&&(c.beginPath=a_,c.closePath=a_),Reflect.apply(d,a,[]),this.children.forEach(d=>{if(void 0!==d.path){var f=void 0!==d.elementTransform?d.elementTransform():null;f||(f=ac.fromElement(b,d)),f&&f.apply(a),d.path(a),c&&(c.closePath=e),f&&f.unapply(a)}}),Reflect.apply(e,a,[]),a.clip(),c&&(c.beginPath=d,c.closePath=e)}render(a){}}class a1 extends ad{constructor(){super(...arguments),this.type="filter"}apply(a,b){var{document:c,children:d}=this,e=b.getBoundingBox(a);if(e){var f=0,g=0;d.forEach(a=>{var b=a.extraFilterDistance||0;f=Math.max(f,b),g=Math.max(g,b)});var h=Math.floor(e.width),i=Math.floor(e.height),j=h+2*f,k=i+2*g;if(!(j<1)&&!(k<1)){var l=Math.floor(e.x),m=Math.floor(e.y),n=this.removeStyles(b,a1.ignoreStyles),o=c.createCanvas(j,k),p=o.getContext("2d");c.screen.setDefaults(p),p.translate(-l+f,-m+g),b.render(p),d.forEach(a=>{"function"==typeof a.apply&&a.apply(p,0,0,j,k)}),a.drawImage(o,0,0,j,k,l-f,m-g,j,k),this.restoreStyles(b,n)}}}render(a){}}a1.ignoreStyles=["filter","transform","clip-path"];class a2 extends ad{constructor(a,b,c){super(a,b,c),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(a,b,c,d,e){}}class a3 extends ad{constructor(){super(...arguments),this.type="feMorphology"}apply(a,b,c,d,e){}}class a4 extends ad{constructor(){super(...arguments),this.type="feComposite"}apply(a,b,c,d,e){}}class a5 extends ad{constructor(a,b,c){super(a,b,c),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(a,b,c,d,e){var{document:f,blurRadius:g}=this,h=f.window?f.window.document.body:null,j=a.canvas;j.id=f.getUniqueId(),h&&(j.style.display="none",h.appendChild(j)),(0,i.vR)(j,b,c,d,e,g),h&&h.removeChild(j)}}class a6 extends ad{constructor(){super(...arguments),this.type="title"}}class a7 extends ad{constructor(){super(...arguments),this.type="desc"}}function a8(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a9(){return(a9=(0,d.Z)(function*(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1],c=document.createElement("img");return b&&(c.crossOrigin="Anonymous"),new Promise((b,d)=>{c.onload=()=>{b(c)},c.onerror=(a,b,c,e,f)=>{d(f)},c.src=a})})).apply(this,arguments)}class ba{constructor(a){var{rootEmSize:b=12,emSize:c=12,createCanvas:d=ba.createCanvas,createImage:e=ba.createImage,anonymousCrossOrigin:f}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};this.canvg=a,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=a.screen,this.rootEmSize=b,this.emSize=c,this.createCanvas=d,this.createImage=this.bindCreateImage(e,f),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(a,b){return"boolean"==typeof b?(c,d)=>a(c,"boolean"==typeof d?d:b):a}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:a}=this;return a[a.length-1]}set emSize(a){var{emSizeStack:b}=this;b.push(a)}popEmSize(){var{emSizeStack:a}=this;a.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(a=>a.loaded)}isFontsLoaded(){return this.fonts.every(a=>a.loaded)}createDocumentElement(a){var b=this.createElement(a.documentElement);return b.root=!0,b.addStylesFromStyleDefinition(),this.documentElement=b,b}createElement(a){var b=a.nodeName.replace(/^[^:]+:/,""),c=ba.elementTypes[b];return void 0!==c?new c(this,a):new ae(this,a)}createTextNode(a){return new ao(this,a)}setViewBox(a){this.screen.setViewBox(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a8(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a8(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({document:this},a))}}function bb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bc(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bb(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}ba.createCanvas=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,c},ba.createImage=function(a){return a9.apply(this,arguments)},ba.elementTypes={svg:ap,rect:aq,circle:ar,ellipse:as,line:at,polyline:au,polygon:av,path:ak,pattern:aw,marker:ax,defs:ay,linearGradient:aB,radialGradient:aC,stop:aD,animate:aE,animateColor:aF,animateTransform:aG,font:aH,"font-face":aI,"missing-glyph":aJ,glyph:al,text:am,tspan:an,tref:aK,a:aL,textPath:aO,image:aQ,g:az,symbol:aR,style:aT,use:aU,mask:a$,clipPath:a0,filter:a1,feDropShadow:a2,feMorphology:a3,feComposite:a4,feColorMatrix:aZ,feGaussianBlur:a5,title:a6,desc:a7};class bd{constructor(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};this.parser=new W(c),this.screen=new T(a,c),this.options=c;var d=new ba(this,c),e=d.createDocumentElement(b);this.document=d,this.documentElement=e}static from(a,b){var c=arguments;return(0,d.Z)(function*(){var d=c.length>2&& void 0!==c[2]?c[2]:{},e=yield new W(d).parse(b);return new bd(a,e,d)})()}static fromString(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},d=new W(c).parseFromString(b);return new bd(a,d,c)}fork(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};return bd.from(a,b,bc(bc({},this.options),c))}forkString(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};return bd.fromString(a,b,bc(bc({},this.options),c))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var a=arguments,b=this;return(0,d.Z)(function*(){var c=a.length>0&& void 0!==a[0]?a[0]:{};b.start(bc({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},c)),yield b.ready(),b.stop()})()}start(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},{documentElement:b,screen:c,options:d}=this;c.start(b,bc(bc({enableRedraw:!0},d),a))}stop(){this.screen.stop()}resize(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:a,c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];this.documentElement.resize(a,b,c)}}}}])